{% macro authorsList(list) %}[{% for personItem in list %}{
  "@type": "Person",
  "name": "{{ personItem.data.name }}"
}{{ '' if loop.last else ',' }}{% endfor %}]{% endmacro %}

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="index, nofollow">

<link rel="preload" href="/fonts/graphik/graphik-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/spot-mono/spot-mono-light.woff2" as="font" type="font/woff2" crossorigin>

<!-- Primary Meta Tags -->
<title>{{ documentTitle }}</title>
<meta name="title" content="{{ socialTitle }}">

{% if doc.data.description %}
  <meta name="description" content="{{ doc.data.description }}">
{% endif %}

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="{{ fullPageUrl }}">
<meta property="og:title" content="{{ socialTitle }}">

{% if doc.data.description %}
  <meta property="og:description" content="{{ doc.data.description }}">
  <meta itemprop="description" content="{{ doc.data.description }}">
{% endif %}

<meta property="og:image" content="{{ defaultOpenGraphPath }}">
<meta property="og:locale" content="ru_RU">
<meta property="og:site_name" content="Дока">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="{{ fullPageUrl }}">
<meta property="twitter:title" content="{{ socialTitle }}">

{% if doc.data.description %}
  <meta property="twitter:description" content="{{ doc.data.description }}">
{% endif %}

<meta property="twitter:image" content="{{ defaultTwitterPath }}">
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@doka_guide">

<!-- Microdata -->

{% if articleCategory %}
  <meta property="article:tag" content="{{ articleCategory }}">
{% endif %}

{% if articleTag %}
  <meta property="article:tag" content="{{ articleTag }}">
{% endif %}

{% if pageType === 'Article' %}
  <meta property="og:type" content="article">
  <meta property="article:section" content="Technology">
  <meta property="article:opinion" content="{{ containsPractice }}">
  <script type="application/ld+json">
    {
      "@context": "http:\/\/schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ fullPageUrl }}"
      },
      "headline": "{{ fullPageUrl }}",
      "datePublished": "{{ createdAt }}",
      "dateModified": "{{ updatedAt }}",
      "author": {{ authorsList(list=populatedAuthors) }},
      "publisher": {
        "@type": "Organization",
        "name": "Дока",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ baseUrl }}/images/publisher-logo.svg"
        }
      },
      "description": "{{ doc.data.description }}",
      "url": "{{ fullPageUrl }}",
    }
  </script>
{% endif %}

<link rel="canonical" href="{{ baseUrl }}{{ page.url }}">

<!-- Icons -->

<link rel="icon" href="/favicon.ico">
<link rel="icon" href="/images/icons/icon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/images/icons/180x180.png">
<link rel="manifest" href="/manifest.json">

<!-- Styles -->

<meta name="color-scheme" content="light dark">
<link rel="stylesheet" href="/styles/index.css">
<link rel="stylesheet" href="/styles/dark-theme.css" media="(prefers-color-scheme: dark)">
{% if themeColor %}
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="{{ themeColor.light }}">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="{{ themeColor.dark }}">
{% endif %}
<script>
  (function() {
    {% include "src/scripts/modules/theme-toggle.js" %}
  })()
</script>
